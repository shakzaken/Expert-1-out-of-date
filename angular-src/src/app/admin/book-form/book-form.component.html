

<br><br><br><br>

  
 <div class="row">
   <div class="col s1"></div>
   <div class="col s11">
     <form class="card col s8" #f="ngForm" (ngSubmit)="submit(f)">
        <p class="center" style="font-size:2ch">Add Book</p>

        <div class="input-field">
          <input type="text" id="name" class="validate" required maxlength="255"
          [(ngModel)]="book.name" name="name" #name="ngModel">
          <label for="name">Name</label>
        </div>

        <div class="input-field">
          <textarea id="description" class="materialize-textarea" required maxlength="1024" [(ngModel)]="book.description" name="description" #description="ngModel"></textarea>
          <label for="description">description</label>
        </div>

        <div class="input-field">
          <input type="number" id="price" class="validate" required  [(ngModel)]="book.price" name="price" #price="ngModel" (change)="func(price)">
          <label for="price">price</label>
        </div>

        <div class="input-field">
          <input type="number" id="quantity" class="validate" required [(ngModel)]="book.quantity" name="quantity" #quantity="ngModel">
          <label for="quantity">quantity</label>
        </div>

        <div class="input-field">
          <input type="text" id="pic" class="validate" [(ngModel)]="book.pictureUrl" name="pic" #pic="ngModel" required >
          <label for="pic">Picture url</label>
        </div>

        <div >
          <mat-form-field>
            <mat-select placeholder="Select Book category" [(ngModel)]="book.categoryId" name="category" #category="ngModel" >
              <mat-option *ngFor="let c of categories" [value]="c._id">
                {{c.name}}
              </mat-option>     
            </mat-select>
          </mat-form-field>
        </div>

        <button type="submit" [disabled]="!f.valid" class="btn right">Save Book</button>

      </form>

      
      <div *ngIf="!f.valid && f.touched" class= "card col s8 red lighten-3">
        <div *ngIf="name.errors?.required && name.touched">
          Name is required
        </div>
        <div *ngIf="name.errors?.maxLength && name.touched">
          Name should be lower than 255 characters
        </div>
        <div *ngIf="description.errors?.required && description.touched">
          Description is required
        </div>
        <div *ngIf="description.errors?.maxLength && description.touched">
          description should be lower than 1000 characters
        </div>

        <div *ngIf="price.errors?.required && price.touched">
          price is required
        </div>
        <div *ngIf="quantity.errors?.required && quantity.touched">
          quantity is required is required
        </div>
        <div *ngIf="pic.errors?.required && pic.touched">
          picture url is required is required
        </div>
        <div *ngIf="category.errors?.required && category.touched">
          category is required is required
        </div>
      </div>
      <div *ngIf="errors.length > 0" class= "card col s8 red lighten-3">
        <div *ngFor="let e of errors">{{e}}</div>
      </div>


   </div>
 </div>
 

    




